#!/usr/bin/python
import os
import xml.etree.ElementTree as etree

class File_operation:
    def write(self,data = [],filename_with_ext = ""):
        try:
            with open(os.getcwd()+"/results/output_texts/"+filename_with_ext,"w") as f:
                for i in data:
                    f.write(str(i)+'\n')
            f.close()
        except:
            return False
        return True

    def read(self,filename_with_ext = ""):
        try:
            with open(filename_with_ext,"r") as f:
                input_list = f.readlines()
            f.close()
        except:
            return False
        return input_list

    def parse_xml(self,filename_with_path = ""):
        email = []
        ip = []
        hostname = []
        counter = 0
        tree = etree.parse(filename_with_path)
        root = tree.getroot()

        for child in root:
            if(counter == 0):
                email.append(child.find('theHarvester/email').text)
            else:
                ip.append(child.find('theHarvester/host/ip').text)
                hostname.append(child.find('theHarvester/host/hostname').text)
            counter += 1
        print(ip)
        print(hostname)

